#! /usr/bin/env python

import sys
import yaml

def capitalize(text):
    words = text.split("_")
    words = [word.capitalize() for word in words]
    return " ".join(words)

plugin = {}
rtmgr = yaml.safe_load(sys.stdin.read())

if rtmgr[0] == "roslaunch":
    plugin["launch"] = "$(find {})/launch/{}".format(rtmgr[1], rtmgr[2])
    rtmgr = rtmgr[3:]

    plugin["args"] = []
    for kv in rtmgr:
        kv = kv.split(":=")
        plugin["args"] .append( {"title": capitalize(kv[0]), "type": "str", "arg": {"name":kv[0], "default":kv[1]}} )

    print yaml.safe_dump(plugin)